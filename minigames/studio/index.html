<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minigames Studio</title>
    <link rel="stylesheet" href="../style.css"> <!-- Adjust the path if needed -->
</head>
<body>
    <div class="container">
        <h1>Minigames Studio</h1>
        <p>The Minigames Studio is designed for generating JavaScript code and canvas setups for your games. Copy the example code to create your own games!</p>

        <!-- Game Generation Section -->
        <h2>Generate JavaScript Game Code</h2>
        <input type="text" id="gameName" placeholder="Game Name" required>
        <input type="text" id="gameDescription" placeholder="Game Description"> <!-- optional -->
        <button id="generateButton">Generate Code</button>

        <h3>Generated JavaScript Code:</h3>
        <pre id="output" class="code-output"></pre>
        <button id="copyButton">Copy to Clipboard</button>

        <!-- Div where the game will be created -->
        <h3>Your Game will appear below:</h3>
        <div id="game" style="border: 1px solid #ccc; width: 400px; height: 300px;"></div>
    </div>

    <script>
        document.getElementById('generateButton').addEventListener('click', function() {
            const gameName = document.getElementById('gameName').value;
            const gameDescription = document.getElementById('gameDescription').value;

            // Example of generating JavaScript code for a game
            const generatedCode = `
                console.log("Game Name: ${gameName}");
                console.log("Game Description: ${gameDescription}");
                
                // Setup canvas inside the game div
                const gameDiv = document.getElementById('game');
                const canvas = document.createElement('canvas');
                canvas.width = 400;
                canvas.height = 300;
                const context = canvas.getContext('2d');
                gameDiv.innerHTML = ''; // Clear previous game content
                gameDiv.appendChild(canvas);
                
                // Add game logic here
                context.fillStyle = 'blue';
                context.fillRect(50, 50, 150, 100);
            `;

            document.getElementById('output').textContent = generatedCode.trim();

            // Run the generated code in real-time
            eval(generatedCode);
        });

        document.getElementById('copyButton').addEventListener('click', function() {
            const outputText = document.getElementById('output').textContent;
            navigator.clipboard.writeText(outputText)
                .then(() => {
                    alert('Code copied to clipboard!');
                })
                .catch(err => {
                    alert('Failed to copy code: ', err);
                });
        });
    </script>
</body>
</html>
