<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minigames Studio</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Minigames Studio</h1>
        <p>The Minigames Studio allows you to create and preview your own JavaScript games.</p>
        
        <h2>Game Information</h2>
        <input id="gameName" placeholder="Game Name" required>
        <input id="gameDescription" placeholder="Game Description (optional)">
        <button id="generateBtn">Generate Game Code</button>
        
        <h2>Generated Code</h2>
        <textarea id="codeOutput" rows="10" readonly></textarea>
        <button id="copyBtn">Copy to Clipboard</button>
        
        <h2>Preview Your Game</h2>
        <button id="previewBtn">Preview Game</button>
    </div>

    <script>
        document.getElementById('generateBtn').addEventListener('click', function() {
            const gameName = document.getElementById('gameName').value;
            const gameDescription = document.getElementById('gameDescription').value;

            // Generate the game code
            const code = `
                console.log("Game Name: ${gameName}");
                console.log("Description: ${gameDescription}");
                
                const canvas = document.createElement('canvas');
                canvas.width = 400;
                canvas.height = 300;
                const context = canvas.getContext('2d');
                document.body.appendChild(canvas);
                
                const playerImage = new Image();
                playerImage.src = 'path/to/your/player-image.png'; // Replace with your image path
                const size = 50;
                let x = 175;
                let y = 125;

                // Move and attack logic
                document.addEventListener('keydown', function(event) {
                    if (event.key === 'w') y -= 5;
                    if (event.key === 'a') x -= 5;
                    if (event.key === 's') y += 5;
                    if (event.key === 'd') x += 5;
                    context.clearRect(0, 0, canvas.width, canvas.height);
                    context.drawImage(playerImage, x, y, size, size);
                });

                playerImage.onload = function() {
                    context.drawImage(playerImage, x, y, size, size);
                };
            `;

            document.getElementById('codeOutput').value = code;
        });

        document.getElementById('copyBtn').addEventListener('click', function() {
            const codeOutput = document.getElementById('codeOutput');
            codeOutput.select();
            document.execCommand('copy');
            alert('Code copied to clipboard!');
        });

        document.getElementById('previewBtn').addEventListener('click', function() {
            const code = document.getElementById('codeOutput').value;
            localStorage.setItem('gameCode', code); // Store code in local storage
            window.location.href = 'preview.html'; // Navigate to preview page
        });
    </script>
</body>
</html>
